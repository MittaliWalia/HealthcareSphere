@model List<dynamic>
@{
    ViewData["Title"] = "Patient Records";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2 class="mb-4">Patient Records</h2>

<table class="table table-bordered">
    <thead class="table-dark">
        <tr>
            <th>Date</th>
            <th>Diagnosis</th>
            <th>Prescription</th>
            <th>Vitals</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var record in Model)
        {
            <tr>
                <td>@record.DateCreated.ToString("yyyy-MM-dd")</td>
                <td>@record.Diagnosis</td>
                <td>@record.Prescription</td>
                <td>@record.Vitals</td>
            </tr>
        }
    </tbody>
</table>

<hr />
<h4 class="mt-4">Add New Medical Record</h4>

<form asp-action="UpdateRecord" method="post">
    <input type="hidden" name="PatientId" value="@ViewBag.PatientId" />
    <input type="hidden" name="DoctorId" value="@ViewBag.DoctorId" />

    <div class="mb-3">
        <label>Diagnosis</label>
        <input type="text" name="Diagnosis" class="form-control" required />
    </div>
    <div class="mb-3">
        <label>Prescription</label>
        <textarea name="Prescription" class="form-control" rows="3" required></textarea>
    </div>
    <div class="mb-3">
        <label>Vitals (BP, HR, Temp etc.)</label>
        <input type="text" name="Vitals" class="form-control" />
    </div>
</form>